{
    "collab_server" : "",
    "contents" : "# Juho Pirhonen 2017-11-08 Opening and reformatting data\n\n# Load required packages\nlibrary(ggplot2)\nlibrary(tidyr)\nlibrary(dplyr)\nlibrary(stringr)\n\n# Load dataframe\ndf <- \"http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS3-data.txt\" %>% \n  read.table(header = T, sep = \"\\t\") %>% tbl_df()\nglimpse(df)\n\n# There is no ID for subjects, add a basic row-num just in case\ndf <- df %>% mutate(row_id = row_number())\n\nsummary(df)\n# So 183 observations and 60 variables. Gonna need some info on the variables\n# All but one are loaded as integer variables, with only 5 possible values. \n# So we are probably dealing with likert data, an ordered factor data type. \n\n\n\n# Create a simple frame to quickly check variable info\ninfo <- read.delim(\"http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS2-meta.txt\", \n                   header = F, sep = \"\\t\", encoding = \"latin1\")[14:107,]\n# There are more variables in info than in df, but I will not spend time on cleaning it more. \ninfo\n\n\n\n# Creating analysis dataframe\n# Current df doesn't have deep, stra, or surf, but can be counted as follows\ninfo[73:75]\n# And \ninfo [65:72]\n# So all ST for stra, SU for surf. \ndf$surf <- df %>% names() %>% str_subset(\"SU\") %>% select(df, .) %>% rowMeans()\ndf$stra <- df %>% names() %>% str_subset(\"ST\") %>% select(df, .) %>% rowMeans()\n# D is special as there are D+alphabet variables that measure attitude, hence grepping\ndf %>% names() %>% str_subset(\"D[0-9]\") %>% select(df, .)\ndf$deep <- df %>% names() %>% str_subset(\"D[0-9]\") %>% select(df, .) %>% rowMeans()\nanalysis <- select(df, gender, Age, Attitude, deep, stra, surf, Points)\nanalysis\n\n\n# Remove subjects with zero points\nanalysis <- filter(analysis, Points != 0)\nanalysis\n\n# Save csv and reread it to prove a point\nwrite.csv(analysis, file = \"data/learning2014.csv\", row.names = F)\nprove <- read.csv(\"data/learning2014.csv\")\nstr(prove)\nhead(prove)\n",
    "created" : 1512566818996.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "54689150",
    "id" : "4C47F2EE",
    "lastKnownWriteTime" : 1511034821,
    "last_content_update" : 1511034821,
    "path" : "~/Desktop/IODS/IODS-project/create_learning2014.R",
    "project_path" : "create_learning2014.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}