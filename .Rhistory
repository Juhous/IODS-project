}
for(x in unjoined) {
if(numerics[x]==T) {
df %>% select(starts_with(unjoined)) %>%
rowMeans() %>% head()
}
else{
print(1)
}
}
for(col in unjoined) {
if(is_num[col]==T) {
df2 <- df %>% select(starts_with(col)) %>%
rowMeans() %>% cbind(df, .)
}
else{
print(1)
}
}
col <- select(por, -one_of(join)) %>% names()
col
is_num <- select(por, unjoined) %>% sapply(is.numeric)
is_num
for(col in unjoined) {
if(is_num[col]==T) {
df2 <- df %>% select(starts_with(col)) %>%
rowMeans() %>% cbind(df, .)
}
else{
print(1)
}
}
df2
col <- select(por, -one_of(join)) %>% names()
col
is_num <- select(por, unjoined) %>% sapply(is.numeric)
is_num
df2 <- df
for(col in unjoined) {
if(is_num[col]==T) {
df2 <- df %>% select(starts_with(col)) %>%
rowMeans() %>% cbind(df, .)
}
else{
print(1)
}
}
col <- select(por, -one_of(join)) %>% names()
col
is_num <- select(por, unjoined) %>% sapply(is.numeric)
is_num
df2 <- df
for(col in unjoined) {
if(is_num[col]==T) {
df2 <- df2 %>% select(starts_with(col)) %>%
rowMeans() %>% cbind(df, .)
}
else{
print(1)
}
}
df2
?cbind
df["guardian"]
df["guardian"] <- 1
df
df2 <- df
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df2 %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
print(1)
}
}
df2
df2 <- df
for(col in unjoined) {
if(is_num[col]==T) {
# df2[col] <- df2 %>%
#   select(starts_with(col)) %>%
#   rowMeans()
df2 <- df2 %>% mutate(col = rowMeans(starts_with(col)))
}
else{
print(1)
}
}
df2 <- df
for(col in unjoined) {
if(is_num[col]==T) {
# df2[col] <- df2 %>%
#   select(starts_with(col)) %>%
#   rowMeans()
df2 <- df2 %>% mutate(col = mean(starts_with(col)))
}
else{
print(1)
}
}
df2 <- df
for(col in unjoined) {
if(is_num[col]==T) {
# df2[col] <- df2 %>%
#   select(starts_with(col)) %>%
#   rowMeans()
df2 <- df2 %>% mutate(asd = mean(starts_with(col)))
}
else{
print(1)
}
}
df2 <- df
for(col in unjoined) {
if(is_num[col]==T) {
# df2[col] <- df2 %>%
#   select(starts_with(col)) %>%
#   rowMeans()
df2 <- df2 %>% mutate(col = 1)
}
else{
print(1)
}
}
df2
df2 <- df
for(col in unjoined) {
if(is_num[col]==T) {
# df2[col] <- df2 %>%
#   select(starts_with(col)) %>%
#   rowMeans()
df2 <- df2 %>% mutate(col = 1)
}
else{
print(1)
}
}
df2
df
df2 <- df
for(col in unjoined) {
if(is_num[col]==T) {
# df2[col] <- df2 %>%
#   select(starts_with(col)) %>%
#   rowMeans()
df2 <- df2 %>% mutate(col = 1)
}
else{
print(1)
}
}
library(dplyr, warn.conflicts = F)
library(tidyr)
library(purrr)
mat <- read.csv("data/student-mat.csv", sep = ";")
por <- read.csv("data/student-por.csv", sep = ";")
glimpse(mat)
glimpse(por)
join <- c("school", "sex", "age",
"address", "famsize", "Pstatus",
"Medu", "Fedu", "Mjob", "Fjob",
"reason", "nursery","internet")
df <- inner_join(mat, por, by = join)
sapply(list(mat,por,df), dim)
glimpse(df)
col <- select(por, -one_of(join)) %>% names()
col
is_num <- select(por, unjoined) %>% sapply(is.numeric)
is_num
df2 <- df
for(col in unjoined) {
if(is_num[col]==T) {
# df2[col] <- df2 %>%
#   select(starts_with(col)) %>%
#   rowMeans()
df2 <- df2 %>% mutate(col = 1)
}
else{
print(1)
}
}
df2
df2 <- df
for(col in unjoined) {
if(is_num[col]==T) {
# df2[col] <- df2 %>%
#   select(starts_with(col)) %>%
#   rowMeans()
df2 <- df2 %>% mutate(as.character(x) = 1)
}
else{
print(1)
}
}
col = "asd"
df[col = 1]
df[col] <- 1
df
library(dplyr, warn.conflicts = F)
library(tidyr)
library(purrr)
mat <- read.csv("data/student-mat.csv", sep = ";")
por <- read.csv("data/student-por.csv", sep = ";")
glimpse(mat)
glimpse(por)
join <- c("school", "sex", "age",
"address", "famsize", "Pstatus",
"Medu", "Fedu", "Mjob", "Fjob",
"reason", "nursery","internet")
df <- inner_join(mat, por, by = join)
sapply(list(mat,por,df), dim)
glimpse(df)
col <- select(por, -one_of(join)) %>% names()
col
is_num <- select(por, unjoined) %>% sapply(is.numeric)
is_num
df2 <- df
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df2 %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
print(1)
}
}
df2
library(dplyr, warn.conflicts = F)
library(tidyr)
library(purrr)
mat <- read.csv("data/student-mat.csv", sep = ";")
por <- read.csv("data/student-por.csv", sep = ";")
glimpse(mat)
glimpse(por)
joined <- c("school", "sex", "age",
"address", "famsize", "Pstatus",
"Medu", "Fedu", "Mjob", "Fjob",
"reason", "nursery","internet")
df <- inner_join(mat, por, by = joined)
sapply(list(mat,por,df), dim)
glimpse(df)
col <- select(por, -one_of(joined)) %>% names()
col
is_num <- select(por, unjoined) %>% sapply(is.numeric)
is_num
df2 <- df %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df2 %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df[col] <- df2[paste(c(col, ".x"))]
}
}
df2 <- df %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df2 %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df[col] <- df[paste(c(col, ".x"))]
}
}
col
paste(col, ".x")
paste(col, ".x", sep="")
df2 <- df %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df2 %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df[col] <- math[col]
}
}
df2 <- df %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df2 %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df[col] <- mat[col]
}
}
df2 <- df %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df2 %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df2[col] <- paste(c(col, "x"), sep=".") %>% df[.]
}
}
df2 <- df %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df2 %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df2[col] <- df[paste(c(col, "x"), sep=".")]
}
}
df
mat <- read.csv("data/student-mat.csv", sep = ";")
por <- read.csv("data/student-por.csv", sep = ";")
glimpse(mat)
glimpse(por)
joined <- c("school", "sex", "age",
"address", "famsize", "Pstatus",
"Medu", "Fedu", "Mjob", "Fjob",
"reason", "nursery","internet")
df <- inner_join(mat, por, by = joined)
sapply(list(mat,por,df), dim)
glimpse(df)
col <- select(por, -one_of(joined)) %>% names()
col
is_num <- select(por, unjoined) %>% sapply(is.numeric)
is_num
df2 <- df %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df2 %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df2[col] <- df[paste(c(col, ".x"), sep="2")]
}
}
df2 <- df %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df2 %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df2[col] <- df[paste(c(col, ".x"), sep="")]
}
}
df
df2
df2 <- df %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df2[col] <- df[paste(c(col, ".x"), sep="")]
}
}
df2
df2 <- df %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df2[col] <- select(df, starts_with(col))[1]
}
}
df2
dim(alc)
dim(df2)
library(dplyr, warn.conflicts = F)
library(tidyr)
library(purrr)
mat <- read.csv("data/student-mat.csv", sep = ";")
por <- read.csv("data/student-por.csv", sep = ";")
glimpse(mat)
glimpse(por)
joined <- c("school", "sex", "age",
"address", "famsize", "Pstatus",
"Medu", "Fedu", "Mjob", "Fjob",
"reason", "nursery","internet")
df <- inner_join(mat, por, by = joined)
sapply(list(mat,por,df), dim)
glimpse(df)
col <- select(por, -one_of(joined)) %>% names()
col
is_num <- select(por, unjoined) %>% sapply(is.numeric)
is_num
df2 <- df %>% select(joined)
library(dplyr, warn.conflicts = F)
library(tidyr)
library(purrr)
mat <- read.csv("data/student-mat.csv", sep = ";")
por <- read.csv("data/student-por.csv", sep = ";")
glimpse(mat)
joined <- c("school", "sex", "age",
"address", "famsize", "Pstatus",
"Medu", "Fedu", "Mjob", "Fjob",
"reason", "nursery","internet")
glimpse(por)
df <- inner_join(mat, por, by = joined)
sapply(list(mat,por,df), dim)
glimpse(df)
col <- select(por, -one_of(joined)) %>% names()
col
is_num <- select(por, col) %>% sapply(is.numeric)
is_num
df2 <- df %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df2[col] <- select(df, starts_with(col))[1]
}
}
unjoined <- select(por, -one_of(joined)) %>% names()
unjoined
is_num <- select(por, unjoined) %>% sapply(is.numeric)
is_num
df2 <- df %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df2[col] <- df %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df2[col] <- select(df, starts_with(col))[1]
}
}
glimpse(df2)
rm(df, joined, unjoined, col, is_num, mat, por)
source('~/Desktop/IODS/IODS-project/create_alc.R', echo=TRUE)
glimpse(df)
source('~/Desktop/IODS/IODS-project/create_alc.R', echo=TRUE)
# Juho Pirhonen 2017-11-20
# Data is from: https://archive.ics.uci.edu/ml/machine-learning-databases/00320/student.zip
library(dplyr, warn.conflicts = F)
library(tidyr)
library(purrr)
mat <- read.csv("data/student-mat.csv", sep = ";")
por <- read.csv("data/student-por.csv", sep = ";")
glimpse(mat)
glimpse(por)
joined <- c("school", "sex", "age",
"address", "famsize", "Pstatus",
"Medu", "Fedu", "Mjob", "Fjob",
"reason", "nursery","internet")
matPor <- inner_join(mat, por, by = joined)
sapply(list(mat,por,df), dim)
glimpse(matPor)
unjoined <- select(por, -one_of(joined)) %>% names()
unjoined
is_num <- select(por, unjoined) %>% sapply(is.numeric)
is_num
df <- matPor %>% select(joined)
for(col in unjoined) {
if(is_num[col]==T) {
df[col] <- matPor %>%
select(starts_with(col)) %>%
rowMeans()
}
else{
df[col] <- select(matPor, starts_with(col))[1]
}
}
glimpse(df)
rm(matPor, joined, unjoined, col, is_num, mat, por)
source('~/Desktop/IODS/IODS-project/create_alc.R', echo=TRUE)
df <- mutate(df, high_use = alc_use > 2)
df <- mutate(df, alc_use = mean(Dalc, Walc))
df <- mutate(df, high_use = alc_use > 2)
df <- mutate(df, alc_use = mean(Dalc+Walc))
df <- mutate(df, high_use = alc_use > 2)
glimpse(df)
df <- mutate(df, alc_use = (Dalc+Walc)/2
df <- mutate(df, high_use = alc_use > 2)
glimpse(df)
df <- mutate(df, alc_use = (Dalc+Walc)/2)
df <- mutate(df, high_use = alc_use > 2)
glimpse(df)
?mutate
mean(2,3)
mean(2,5)
mean(2,5,7)
mean(c(2,5,7))
mean(2+5)
mean(c(2,7))
df <- mutate(df, alc_use = mean(c(Dalc,Walc)))
df <- mutate(df, high_use = alc_use > 2)
glimpse(df)
df <- mutate(df, alc_use = (Dalc+Walc)/2)
df <- mutate(df, high_use = alc_use > 2)
glimpse(df)
write.csv(df, file = "alc")
write.csv(df, file = "data/alc")
